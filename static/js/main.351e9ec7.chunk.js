(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(83),o=a.n(s),c=(a(98),a(2)),l=a(3),i=a(5),u=a(1),m=a(4),d=a(22),p=a(7),h=(a(99),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).links=[r.a.createElement(d.b,{activeClassName:"is-active",exact:!0,to:"/"},"Home"),r.a.createElement(d.b,{activeClassName:"is-active",to:"/characters/"},"Characters"),r.a.createElement(d.b,{activeClassName:"is-active",to:"/episodes/"},"Episodes"),r.a.createElement(d.b,{activeClassName:"is-active",to:"/locations/"},"Locations"),r.a.createElement(d.b,{activeClassName:"is-active",to:"/watchlist/"},"My Watch List")],a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav-list"},this.links.map(function(e,t){return r.a.createElement("li",{className:"nav-list-item",key:t},e)}))))}}]),t}(n.Component)),f=(a(104),function(){return r.a.createElement("div",{className:"home-container"},r.a.createElement("div",{className:"home-title"},r.a.createElement("h1",null,"Meet Rick and Morty")))}),g=a(27),E=a(6),v=a.n(E),b=a(11),C="https://rickandmortyapi.com/api/character",y="https://rickandmortyapi.com/api/location",k="https://rickandmortyapi.com/api/episode",N=function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error(a.statusText);case 5:return e.abrupt("return",a.json());case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=function(e,t){return t+new URLSearchParams(e).toString()},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C+"/?",a=O(e,t);return N(a)},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k+"/?",a=O(e,t);return N(a)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y+"/?",a=O(e,t);return N(a)},x=(a(44),function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:"filter-form"},r.a.createElement("input",{name:"name",type:"text",className:"filter-search",placeholder:"Enter name",onChange:e.handleChange,defaultValue:e.searchValue}),r.a.createElement("select",{name:"gender",className:"filter-select",onChange:e.handleChange,defaultValue:e.genderValue},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Filter by gender"),r.a.createElement("option",{value:""},"all"),r.a.createElement("option",{value:"female"},"female"),r.a.createElement("option",{value:"male"},"male"),r.a.createElement("option",{value:"genderless"},"genderless"),r.a.createElement("option",{value:"unknown"},"unknown")),r.a.createElement("select",{name:"species",className:"filter-select",onChange:e.handleChange,defaultValue:e.speciesValue},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Filter by species"),r.a.createElement("option",{value:""},"all"),r.a.createElement("option",{value:"human"},"human"),r.a.createElement("option",{value:"alien"},"alien")),r.a.createElement("select",{name:"status",className:"filter-select",onChange:e.handleChange,defaultValue:e.statusValue},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Filter by status"),r.a.createElement("option",{value:""},"all"),r.a.createElement("option",{value:"alive"},"alive"),r.a.createElement("option",{value:"dead"},"dead"),r.a.createElement("option",{value:"unknown"},"unknown")),r.a.createElement("input",{type:"submit",value:"Filter",className:"filter-submit"}))}),V=(a(59),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.episode.map(function(e){return e.slice(40)}),t=e.join(", ")+" ";return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal__content"},r.a.createElement("div",{className:"modal__left"},r.a.createElement("h2",{className:"modal__name"},"Meet ",this.props.name),r.a.createElement("div",null,r.a.createElement("img",{className:"modal__image",src:this.props.image,alt:"character"}))),r.a.createElement("div",{className:"modal__right"},r.a.createElement("p",null,"I starred in: ",r.a.createElement("span",null,t),e.length>2?"episodes":"episode","."),r.a.createElement("div",null,r.a.createElement("button",{className:"modal__close-button",onClick:this.props.closePopup},"close me")))))}}]),t}(r.a.Component)),L=(a(107),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={showPopup:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup}),console.log(this.props.character.image)}},{key:"render",value:function(){var e=this.props.character;return r.a.createElement("div",{className:"popup",onClick:this.togglePopup.bind(this)},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-image",src:e.image,alt:"character"}),r.a.createElement("h2",{className:"card-name"},e.name),r.a.createElement("p",{className:"card-species"},"Species: ",e.species),r.a.createElement("p",{className:"card-gender"},"Gender: ",e.gender),r.a.createElement("p",{className:"card-gender"},"Status: ",e.status)),this.state.showPopup?r.a.createElement(V,{name:e.name,species:e.species,gender:e.gender,episode:e.episode,status:e.status,image:e.image,closePopup:this.togglePopup.bind(this)}):null)}}]),t}(r.a.Component)),T=a(84),_=a.n(T),P=(a(108),function(e){var t=function(e,t){for(var a=[],n=Math.min(e,t),r=Math.min(e,t),s=1;s<3&&s<t;s++)n>1&&n--,s<3&&r<t&&r++;for(var o=n;o<=r;o++)a.push(o);return a}(e.currentPage,e.pages);return r.a.createElement("ul",{onClick:e.handleClick,className:"pagination"},t.map(function(t){return r.a.createElement("li",{key:t,className:_()("pagination-item",{active:t===e.currentPage})},t)}))}),D=a(85),F=a.n(D),A=(a(109),function(e){return e.isLoaded?e.children:r.a.createElement("div",{className:"preloader"},r.a.createElement("img",{src:F.a,alt:"spinner"}))}),I=(a(110),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlePaginationClick=function(e){var t=+e.target.textContent;a.setState({isLoaded:!1,page:t},Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchCharacters();case 2:t=e.sent,a.setState({characters:t.results,pages:t.info.pages,isLoaded:!0});case 4:case"end":return e.stop()}},e)})))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(g.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault(),a.setState({isLoaded:!1,page:1},Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchCharacters();case 2:t=e.sent,a.setState({characters:t.results,pages:t.info.pages,isLoaded:!0});case 4:case"end":return e.stop()}},e)})))},a.fetchCharacters=function(){return j({id:a.state.id,name:a.state.name,gender:a.state.gender,species:a.state.species,status:a.state.status,origins:{name:function(){return a.state.origin.name},url:function(){return a.state.origin.url}},locations:{name:function(){return a.state.origin.name},url:function(){return a.state.origin.url}},episode:function(){return a.state.episode.push()},page:a.state.page})},a.state={id:"",name:"",gender:"",species:"",status:"",origins:{name:"",url:""},locations:{name:"",url:""},episode:[],characters:[],page:1,isLoaded:!1,closePopup:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,this.setState({characters:t.results,pages:t.info.pages,isLoaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.characters,a=e.isLoaded,n=e.name,s=e.gender,o=e.species,c=e.status,l=e.originName,i=e.originUrl,u=e.locationName,m=e.locationUrl,d=e.episode,p=e.page,h=e.pages;return r.a.createElement("div",null,r.a.createElement(A,{isLoaded:a},r.a.createElement(x,{handleSubmit:this.handleFormSubmit,handleChange:this.handleInputChange,searchValue:n,genderValue:s,speciesValue:o,statusValue:c,originNameValue:l,originUrlValue:i,locationNameValue:u,locationUrlValue:m,episodeValue:d}),r.a.createElement("div",{className:"characters characters-background"},t.map(function(e){return r.a.createElement(L,{id:e.id,key:e.id,character:e,imageSrc:e.image,name:e.name,species:e.species,gender:e.gender,status:e.status,originName:e.origin.name,originUrl:e.origin.url,locationName:e.location.name,locationUrl:e.location.url,episode:e.episode})})),r.a.createElement(P,{handleClick:this.handlePaginationClick,currentPage:p,pages:h})))}}]),t}(n.Component)),M=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:"filter-form"},r.a.createElement("input",{name:"name",type:"text",className:"filter-search",placeholder:"Enter name of episode",onChange:e.handleChange,defaultValue:e.searchValue}),r.a.createElement("input",{type:"submit",value:"Filter",className:"filter-submit"}))},R=(a(60),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={id:"",name:"",air_date:"",episode:"",episodes:[],created:"",url:"",page:1,isLoaded:!1},a.handlePaginationClick=function(e){var t=+e.target.textContent;a.setState({isLoaded:!1,page:t},Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchEpisodes();case 2:t=e.sent,a.setState({episodes:t.results,pages:t.info.pages,isLoaded:!0});case 4:case"end":return e.stop()}},e)})))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(g.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault(),a.setState({isLoaded:!1,page:1},Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchEpisodes();case 2:t=e.sent,a.setState({episodes:t.results,pages:t.info.pages,isLoaded:!0});case 4:case"end":return e.stop()}},e)})))},a.fetchEpisodes=function(){return S({id:a.state.id,name:a.state.name,air_date:a.state.air_date,episode:a.state.episode,episodes:function(){return a.state.episode.push()},created:a.state.created,url:a.state.url,page:a.state.page})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,this.setState({episodes:t.results,pages:t.info.pages,isLoaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.name,n=e.episodes,s=e.page,o=e.pages;return r.a.createElement("div",null,r.a.createElement(A,{isLoaded:t},r.a.createElement(M,{handleSubmit:this.handleFormSubmit,handleChange:this.handleInputChange,searchValue:a}),r.a.createElement("div",{className:"episodes episodes-background"},r.a.createElement("table",{className:"episodes-table"},r.a.createElement("thead",{className:"episodes-thead"},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"5"},"Episodes:")),r.a.createElement("tr",null,r.a.createElement("th",null,"Number:"),r.a.createElement("th",null,"Episode:"),r.a.createElement("th",null,"Name:"),r.a.createElement("th",null,"Air Date:"))),r.a.createElement("tbody",{className:"episodes-tbody"},n.map(function(e){return r.a.createElement("tr",{key:e.id,id:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.episode),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.air_date))},console.log(n))))),r.a.createElement(P,{handleClick:this.handlePaginationClick,currentPage:s,pages:o})))}}]),t}(n.Component)),U=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:"filter-form"},r.a.createElement("input",{name:"type",type:"text",className:"filter-search",placeholder:"Enter Type",onChange:e.handleChange,defaultValue:e.typeValue}),r.a.createElement("input",{name:"name",type:"text",className:"filter-search",placeholder:"Enter Name",onChange:e.handleChange,defaultValue:e.nameValue}),r.a.createElement("input",{name:"dimension",type:"text",className:"filter-search",placeholder:"Enter Dimension",onChange:e.handleChange,defaultValue:e.dimensionValue}),r.a.createElement("input",{type:"submit",value:"Filter",className:"filter-submit"}))},J=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={id:"",name:"",type:"",dimension:"",residents:[],locations:[],created:"",url:"",page:1,isLoaded:!1},a.handlePaginationClick=function(e){var t=+e.target.textContent;a.setState({isLoaded:!1,page:t},Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchLocations();case 2:t=e.sent,a.setState({locations:t.results,pages:t.info.pages,isLoaded:!0});case 4:case"end":return e.stop()}},e)})))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(g.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault(),a.setState({isLoaded:!1,page:1},Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchLocations();case 2:t=e.sent,a.setState({locations:t.results,pages:t.info.pages,isLoaded:!0});case 4:case"end":return e.stop()}},e)})))},a.fetchLocations=function(){return w({id:a.state.id,name:a.state.name,type:a.state.type,dimension:a.state.dimension,url:a.state.url,residents:a.state.residents.push(),created:a.state.created,page:a.state.page})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,this.setState({locations:t.results,pages:t.info.pages,isLoaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.name,n=e.type,s=e.dimension,o=e.locations,c=e.page,l=e.pages;return r.a.createElement("div",null,r.a.createElement(A,{isLoaded:t},r.a.createElement(U,{handleSubmit:this.handleFormSubmit,handleChange:this.handleInputChange,nameValue:a,typeValue:n,dimensionValue:s}),r.a.createElement("div",{className:"locations locations-background"},r.a.createElement("table",{className:"locations-table"},r.a.createElement("thead",{className:"locations-thead"},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"5"},"Locations:")),r.a.createElement("tr",null,r.a.createElement("th",null,"Number:"),r.a.createElement("th",null,"Type:"),r.a.createElement("th",null,"Name:"),r.a.createElement("th",null,"Dimension:"))),r.a.createElement("tbody",{className:"locations-tbody"},o.map(function(e){return r.a.createElement("tr",{key:e.id,id:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.dimension))})))),r.a.createElement(P,{handleClick:this.handlePaginationClick,currentPage:c,pages:l})))}}]),t}(n.Component),q=a(10),B=a(21),W=r.a.memo(function(e){var t=e.todo,a=e.id,s=e.onRemoveTodo,o=e.onToggleTodoDone,c=e.onEditTodo,l=e.isDone,i=e.setCustomError,u=Object(n.useCallback)(function(){return s(a)},[a,s]),m=Object(n.useCallback)(function(){return o(a)},[a,o]),d=Object(n.useCallback)(function(e){if(13===e.keyCode){e.preventDefault();var t=e.target.value;if(t.length<3)return void i("Todo text is too short.");if(t.length>20)return void i("Todo text is too long.");c(a,e.target.value),i(null),e.target.blur()}},[a,c,i]),p=Object(n.useRef)(null);return r.a.createElement("li",{className:"watchlist-item"},r.a.createElement("input",{id:"isWatched",type:"checkbox",ref:p,checked:!!l,onChange:m,className:"watchlist-item__checkbox"}),r.a.createElement("span",{onClick:function(){return p.current.click()}}),r.a.createElement("input",{type:"text",defaultValue:t,onKeyDown:d,style:{textDecoration:l?"line-through":"none"},className:"watchlist-item__text"}),r.a.createElement("button",{onClick:u,className:"watchlist-item__delete-button"},r.a.createElement("span",{role:"img","aria-labelledby":"trash"}),"\ud83d\uddd1\ufe0f"))}),G=r.a.memo(function(e){var t=e.todoItems,a=e.onRemoveTodo,n=e.onToggleTodoDone,s=e.onEditTodo,o=e.setCustomError;return r.a.createElement("ul",null,t&&Array.isArray(t)&&t.length>0&&t.map(function(e){var t=e.id,c=e.todo,l=e.isDone;return r.a.createElement(W,{key:t,id:t,todo:c,onRemoveTodo:a,onToggleTodoDone:n,onEditTodo:s,isDone:l,setCustomError:o})}))}),H=a(92),K=a(56),z=r.a.memo(function(e){var t=e.onAddTodo,a=e.customError,n=Object(H.a)({validateOnChange:!1,validateOnBlur:!1,initialValues:{todo:""},validationSchema:K.a().shape({todo:K.b().min(3,"Text is too short.").max(20,"Text is too long.").required("Text is required.")}),onSubmit:function(e,a){var n=a.resetForm;t(e.todo),n()}}),s=Object.keys(n.errors),o=s.length>0?n.errors[s[0]]:null,c=a||o;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:n.handleSubmit,className:"watchlist-form"},r.a.createElement("input",{id:"todo",name:"todo",type:"text",onChange:n.handleChange,value:n.values.todo,autoComplete:"off",placeholder:"Add to watch list",className:"filter-search"}),r.a.createElement("button",{type:"submit",className:"filter-submit"},"Add")),c&&r.a.createElement("span",{className:"watchlist-form__error"},c))}),Q=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},X=a(91),Y=a.n(X),Z=r.a.memo(function(){var e=Object(n.useState)(function(e){var t=localStorage.getItem(e),a=null;try{var n=JSON.parse(t);Array.isArray(n)&&(a=n)}catch(r){a=[]}return a}("todo")||[]),t=Object(B.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(null),c=Object(B.a)(o,2),l=c[0],i=c[1],u=Object(n.useCallback)(function(e){var t=null;1===a.length?t=a[0]:a.length>1&&(t=a.sort(function(e,t){return e.id>t.id})[0]);var n=[{id:t?t.id+1:0,todo:e}].concat(Object(q.a)(a));s(n),Q("todo",n)},[a]),m=Object(n.useCallback)(function(e){var t=a.filter(function(t){return t.id!==e});s(t),Q("todo",t)},[a]),d=Object(n.useCallback)(function(e){var t=a.find(function(t){return t.id===e});t.isDone=!t.isDone,s(Object(q.a)(a)),Q("todo",a)},[a]),p=Object(n.useCallback)(function(e,t){a.find(function(t){return t.id===e}).todo=t,s(Object(q.a)(a)),Q("todo",a)},[a]);return r.a.createElement("div",{className:Y.a.todo},r.a.createElement(z,{customError:l,onAddTodo:u}),r.a.createElement(G,{todoItems:a,onRemoveTodo:m,onToggleTodoDone:d,onEditTodo:p,setCustomError:i}))}),$=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(h,null),r.a.createElement(p.a,{exact:!0,path:"/",component:f}),r.a.createElement(p.a,{path:"/characters/",component:I}),r.a.createElement(p.a,{path:"/episodes/",component:R}),r.a.createElement(p.a,{path:"/locations/",component:J}),r.a.createElement(p.a,{path:"/watchlist/",component:Z}))}}]),t}(n.Component);o.a.render(r.a.createElement($,null),document.getElementById("root"))},44:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},85:function(e,t,a){e.exports=a.p+"static/media/spinner.a8089a45.svg"},91:function(e,t,a){},93:function(e,t,a){e.exports=a(209)},98:function(e,t,a){},99:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.351e9ec7.chunk.js.map